<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menú de Productos Informativo</title>
  <link rel="stylesheet" href="style/producto.css" />
</head>
<body>
 <header class="header">
    <div class="container header__inner">
      <a class="logo" href="index.html"><img src="imagenes/logo.png" alt="Logo" /></a>
      <nav class="nav" aria-label="Principal">
        <ul class="nav__list">
          <li><a class="nav__link" href="index.html">Inicio</a></li>
          <li><a class="nav__link" href="quienessomos.html">Quiénes somos</a></li>
          <li><a class="nav__link" href="producto.html">Producto</a></li>
          <li><a class="nav__link" href="galeria.html">Galería</a></li>
          <li><a class="nav__link active" href="contacto.html">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <h1>Menú de Productos</h1>

  <div class="filtros">
    <input type="text" id="buscador" placeholder="Buscar producto...">
    <select id="orden">
      <option value="az">Ordenar por nombre (A-Z)</option>
      <option value="za">Ordenar por nombre (Z-A)</option>
    </select>
  </div>

  <div id="categorias" class="menu"></div>
  <div id="productos" class="productos"></div>
  <button id="btnVolver" class="volver">Volver a Categorías</button>



  <script>
    const datos = {
      "Ranurado": [
        { nombre: "Inserto Lama", imagen: "imagenes/ranurado/INSERTO-LAMA.jpg" },
        { nombre: "Inserto-Ranurado", imagen: "imagenes/ranurado/INSERTO-RANURADO.jpg" },
        { nombre: "Inserto-TOPNOTCH", imagen: "imagenes/ranurado/INSERTO-TOPNOTCH.PNG" }
      ],
      "Perforado": [
        { nombre: "DRILL-FIX-PRO", imagen: "imagenes/perforados/DRILL-FIX-PRO.png" },
        { nombre: "INSERTO-KENTIP", imagen: "imagenes/perforados/INSERTO-KENTIP.png" },
        { nombre: "KENTIP", imagen: "imagenes/perforados/KENTIP.png" }
      ],
      "Fresado": [
        { nombre: "ALTO AVANCE 7792", imagen: "imagenes/fresado/ALTO.AVANCE7792.png" },
        { nombre: "ALTO AVANCE VXF", imagen: "imagenes/fresado/ALTOAVANCEVXF.jpg" },
        { nombre: "DODEKA", imagen: "imagenes/fresado/DODEKA.jpg" },
        { nombre: "INSERTO 7792", imagen: "imagenes/fresado/INSERTO-7792.png" },
        { nombre: "INSERTO-DODEKA", imagen: "imagenes/fresado/INSERTO-DODEKA.png" },
        { nombre: "INSERTO-M1200", imagen: "imagenes/fresado/INSERTO-M1200.jpg" },
        { nombre: "INSERTO-VSM490", imagen: "imagenes/fresado/INSERTO-VSM490.jpg" },
        { nombre: "INSERTO-VSM890", imagen: "imagenes/fresado/INSERTO-VSM890.jpg" },
        { nombre: "INSERTO-VXF", imagen: "imagenes/fresado/INSERTO-VXF.jpg" },
        { nombre: "M1200", imagen: "imagenes/fresado/M1200.png" },
        { nombre: "MILL1-10-INSERTO", imagen: "imagenes/fresado/MILL1-10-INSERTO.png" },
        { nombre: "MILL1-10FRESA", imagen: "imagenes/fresado/MILL1-10FRESA.png" },
        { nombre: "VSM11-INSERTO", imagen: "imagenes/fresado/VSM11-INSERTO.png" },
        { nombre: "VSM490", imagen: "imagenes/fresado/VSM490.jpg" },
        { nombre: "VSM890", imagen: "imagenes/fresado/VSM890.jpg" }
      ],
        "Machos": [
        { nombre: "", imagen: "imagenes/machos/MACHOS-ROSCA.PNG" }
      ]
    };

    // Agregamos la categoría "Todos"
    const categorias = ["Todos", ...Object.keys(datos)];

    const contCategorias = document.getElementById("categorias");
    const contProductos = document.getElementById("productos");
    const buscador = document.getElementById("buscador");
    const selectOrden = document.getElementById("orden");
    const btnVolver = document.getElementById("btnVolver");

    let categoriaActual = "Todos";

    // Construir lista total de productos
    const todosLosProductos = categorias.slice(1).flatMap(cat =>
      datos[cat].map(p => ({ ...p, categoria: cat }))
    );

    // Render de categorías
    function mostrarCategorias() {
      contCategorias.innerHTML = "";
      categorias.forEach(cat => {
        const btn = document.createElement("button");
        btn.className = "categoria" + (cat === categoriaActual ? " activa" : "");
        btn.textContent = cat;
        btn.onclick = () => {
          categoriaActual = cat;
          mostrarCategorias();
          mostrarProductos();
        };
        contCategorias.appendChild(btn);
      });
    }

    // Render de productos
    function mostrarProductos() {
      let productos =
        categoriaActual === "Todos"
          ? [...todosLosProductos]
          : datos[categoriaActual].map(p => ({ ...p, categoria: categoriaActual }));

      // Filtro por búsqueda
      const texto = buscador.value.toLowerCase().trim();
      if (texto) {
        productos = productos.filter(p =>
          p.nombre.toLowerCase().includes(texto)
        );
      }

      // Ordenar por nombre
      productos.sort((a, b) =>
        selectOrden.value === "az"
          ? a.nombre.localeCompare(b.nombre)
          : b.nombre.localeCompare(a.nombre)
      );

      // Mostrar
      contProductos.innerHTML = "";
      if (productos.length === 0) {
        contProductos.innerHTML = "<p style='grid-column:1/-1;text-align:center;'>No hay productos para mostrar.</p>";
        return;
      }

      productos.forEach(prod => {
        const div = document.createElement("div");
        div.className = "producto";
        div.innerHTML = `
          <img src="${prod.imagen}" alt="${prod.nombre}">
          <h3>${prod.nombre}</h3>
          <p style="color:#777;">Categoría: ${prod.categoria}</p>
        `;
        contProductos.appendChild(div);
      });
    }

    // Eventos
    buscador.addEventListener("input", mostrarProductos);
    selectOrden.addEventListener("change", mostrarProductos);

    // Inicializar
    mostrarCategorias();
    mostrarProductos();
  </script>
  
 <footer class="footer">
    <div class="container footer__inner">
      <p>© <span id="year"></span> DINMAC. Todos los derechos reservados.</p>
      <nav aria-label="Secundario">
        <a href="contacto.html">Contacto</a>
      </nav>
    </div>
  </footer>

</body>
</html>
